import{q as y,r as i,j as s,B as j,T as u,n as d}from"./index-DT-Q6kAP.js";import{U as v}from"./input-DnatyFKj.js";import{U as C}from"./select-_MLwrEpR.js";import{u as S,c as _}from"./apiUpdateCalls-CBTCy7tK.js";import{u as T}from"./useFetchGetAllDatas-DTjlX0yT.js";import"./settings-NaXnANWD.js";import"./index-1V4nhdya.js";import"./IconButton-Dp_Z0XkK.js";import"./apiGetCalls-C5kV7Ldm.js";const k=({isEdit:p,data:e})=>{const c=y(),[o,f]=i.useState({id:e==null?void 0:e.filter_cat_id,value:e==null?void 0:e.filter_categories_name}),[n,m]=i.useState((e==null?void 0:e.title)||""),[x,a]=i.useState(!1),{data:l}=T("filter_category"),g=i.useMemo(()=>{const r=[];return l==null||l.map(t=>{r.push({id:t.id,value:t.title})}),r},[l]),h=()=>{if(!n||!o)return;a(!0);const r={title:n,filter_category:o.id};p?S("filters",e==null?void 0:e.id,r).then(t=>(c("/filters",{replace:!0}),t)).catch(t=>t).finally(()=>a(!1)):_("filters",r).then(t=>(c("/filters",{replace:!0}),t)).catch(t=>t).finally(()=>a(!1))};return s.jsxs(j,{children:[s.jsxs(u,{sx:{margin:"20px 0 10px"},children:[s.jsx("span",{style:{color:"red"},children:"*"})," Select Filter Category"]}),s.jsx(C,{options:g,defaultValue:o,placeholder:"",updateValue:r=>{const t={id:r.id,value:r.value};f(t)}}),s.jsxs(u,{sx:{margin:"20px 0 10px"},children:[s.jsx("span",{style:{color:"red"},children:"*"})," Title"]}),s.jsx(v,{updateValue:r=>m(r),defaultValue:n,fullWidth:!0}),s.jsx(d,{variant:"contained",disabled:x,sx:{marginTop:"20px"},onClick:h,children:"Create"})]})};export{k as default};
