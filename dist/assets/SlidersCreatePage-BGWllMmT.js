import{q as k,r,j as l,B as u,S as y,T as x,n as d}from"./index-BBG2Og9a.js";import{U as m}from"./input-BYqJndx-.js";import{U as B}from"./file-B-FegUKS.js";import{u as v,c as w}from"./apiUpdateCalls-BQROgRcf.js";import{g as F}from"./getImage-CkJD2VpG.js";import"./settings-YpfnS1Ri.js";const b=({isEdit:t,data:e})=>{const p=k(),[n,h]=r.useState((e==null?void 0:e.title)||""),[o,a]=r.useState((e==null?void 0:e.link)||""),[f,g]=r.useState((e==null?void 0:e.file)||null),[j,c]=r.useState(!1),S=async()=>{if(!n||!o||!f)return;c(!0);const s=new FormData;if(s.append("title",n),s.append("link",o),t){const i=await F(e==null?void 0:e.file,"file");s.append("file",i)}else s.append("file",f[0]);t?v("sliders",e==null?void 0:e.id,s,!0).then(i=>(p("/sliders",{replace:!0}),i)).catch(i=>console.log(i)).finally(()=>c(!1)):w("sliders",s,!0).then(i=>(p("/sliders",{replace:!0}),i)).catch(i=>i).finally(()=>c(!1))};return l.jsxs(u,{children:[l.jsxs(y,{direction:"row",gap:2,sx:{marginBottom:"20px"},children:[l.jsxs(u,{sx:{width:"100%"},children:[l.jsxs(x,{sx:{marginBottom:"10px"},children:[l.jsx("span",{style:{color:"red"},children:"*"})," Title"]}),l.jsx(m,{defaultValue:n,updateValue:s=>h(s),fullWidth:!0})]}),l.jsxs(u,{sx:{width:"100%"},children:[l.jsxs(x,{sx:{marginBottom:"10px"},children:[l.jsx("span",{style:{color:"red"},children:"*"})," Link"]}),l.jsx(m,{defaultValue:o,updateValue:s=>a(s),fullWidth:!0})]})]}),l.jsx(B,{fileChange:s=>g(s),defaultFile:e==null?void 0:e.file}),l.jsx(d,{variant:"contained",disabled:j,sx:{marginTop:"20px"},onClick:S,children:t?"Edit":"Create"})]})};export{b as default};
